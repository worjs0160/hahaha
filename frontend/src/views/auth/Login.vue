<template>
  <!--전체 화면 정렬을 위한 row-->
  <v-row justify="center">
    <v-col>
      <!--로그인 카드 영역-->
      <v-card class="login-wrap">
        <!-- 로그인 헤더 영역 -->
        <div class="login-wrap-header">
          <p class="pre-600">로그인</p>
        </div>
        <!-- 로그인 로고 영역 -->
        <div class="login-wrap-logoBox">
          <svg
            width="187"
            height="75"
            viewBox="0 0 187 75"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_172_3655)">
              <path
                d="M131.28 4.3593C132.053 4.39651 132.827 4.30527 133.57 4.0893V4.82929C132.83 5.0417 132.06 5.13288 131.29 5.0993H131.22V6.9893H130.38V5.0993H128.38V4.3593H131.28ZM128.75 1.9093C128.691 1.48766 128.762 1.05804 128.954 0.677926C129.146 0.297808 129.449 -0.0146766 129.823 -0.217719C130.197 -0.420761 130.625 -0.504673 131.048 -0.458228C131.471 -0.411783 131.87 -0.2372 132.191 0.0421688C132.512 0.321537 132.741 0.692367 132.846 1.10503C132.95 1.51769 132.927 1.9525 132.777 2.35128C132.628 2.75007 132.361 3.09381 132.011 3.3365C131.661 3.57919 131.246 3.70925 130.82 3.7093C130.564 3.73851 130.304 3.71409 130.058 3.63757C129.811 3.56105 129.584 3.43411 129.389 3.26483C129.194 3.09554 129.037 2.88762 128.927 2.65425C128.817 2.42089 128.757 2.16719 128.75 1.9093ZM129.53 1.9093C129.493 2.17145 129.538 2.43855 129.657 2.67487C129.776 2.9112 129.965 3.1055 130.197 3.23179C130.43 3.35808 130.696 3.41035 130.959 3.38161C131.222 3.35286 131.47 3.24448 131.67 3.07094C131.87 2.8974 132.012 2.66697 132.077 2.41048C132.143 2.15398 132.128 1.88363 132.036 1.63558C131.943 1.38752 131.777 1.17358 131.56 1.02235C131.343 0.871119 131.085 0.789814 130.82 0.7893C130.66 0.771239 130.499 0.786506 130.345 0.834138C130.192 0.88177 130.05 0.960727 129.929 1.06601C129.808 1.17129 129.71 1.30061 129.641 1.44577C129.572 1.59093 129.535 1.74877 129.53 1.9093ZM134.97 -0.000700742V6.9993H134.16V-0.000700742H134.97Z"
                fill="#61C1BE"
              />
              <path
                d="M150.31 3.04086V3.67086H143.31V3.04086H150.31ZM149.9 2.46086H143.73V1.85086H144.97V0.74086H143.81V0.130859H149.81V0.74086H148.65V1.90086H149.88L149.9 2.46086ZM144.61 6.31086H149.95V6.91086H143.81V5.29086H149.04V4.84086H143.8V4.24086H149.8V5.85086H144.58L144.61 6.31086ZM145.78 1.85086H147.86V0.74086H145.78V1.85086Z"
                fill="#61C1BE"
              />
              <path
                d="M159.84 5.86906C160.522 5.89158 161.201 5.77945 161.84 5.53906V6.24906C161.181 6.48978 160.481 6.59851 159.78 6.56906H158.43V3.01906H160.43V0.959061H158.43V0.249062H161.21V3.73906H159.21V5.88906L159.84 5.86906ZM162.51 0.0390625H163.27V6.86906H162.51V3.63906H161.64V2.86906H162.51V0.0390625ZM164.96 0.0390625V7.03906H164.19V0.0390625H164.96Z"
                fill="#61C1BE"
              />
              <path
                d="M173.45 3.41C173.45 1.19 174.32 0.159996 175.57 0.159996C176.82 0.159996 177.68 1.16 177.68 3.41C177.68 5.66 176.8 6.66 175.57 6.66C174.34 6.66 173.45 5.63 173.45 3.41ZM176.87 3.41C176.87 1.64 176.29 0.909996 175.57 0.909996C174.85 0.909996 174.26 1.64 174.26 3.41C174.26 5.18 174.82 5.92 175.57 5.92C176.32 5.92 176.87 5.19 176.87 3.41ZM178.87 0H179.69V7H178.87V0Z"
                fill="#61C1BE"
              />
              <path
                d="M128.82 42.4102H106.15C105.62 42.4102 105.111 42.1995 104.736 41.8244C104.361 41.4494 104.15 40.9407 104.15 40.4102V17.7402C104.15 17.2098 104.361 16.7011 104.736 16.326C105.111 15.9509 105.62 15.7402 106.15 15.7402C106.68 15.7402 107.189 15.9509 107.564 16.326C107.939 16.7011 108.15 17.2098 108.15 17.7402V38.4302H128.84C129.37 38.4302 129.879 38.6409 130.254 39.016C130.629 39.3911 130.84 39.8998 130.84 40.4302C130.84 40.9607 130.629 41.4694 130.254 41.8445C129.879 42.2195 129.37 42.4302 128.84 42.4302L128.82 42.4102Z"
                fill="#61C1BE"
              />
              <path
                d="M64.77 42.4098H42.1C41.5695 42.4098 41.0608 42.1991 40.6858 41.8241C40.3107 41.449 40.1 40.9403 40.1 40.4098V29.0898C40.1 28.5594 40.3107 28.0507 40.6858 27.6756C41.0608 27.3006 41.5695 27.0898 42.1 27.0898H64.77C65.3004 27.0898 65.8091 27.3006 66.1842 27.6756C66.5592 28.0507 66.77 28.5594 66.77 29.0898C66.77 29.6203 66.5592 30.129 66.1842 30.5041C65.8091 30.8791 65.3004 31.0898 64.77 31.0898H44.08V38.4698H64.77C65.3004 38.4698 65.8091 38.6806 66.1842 39.0556C66.5592 39.4307 66.77 39.9394 66.77 40.4698C66.77 41.0003 66.5592 41.509 66.1842 41.8841C65.8091 42.2591 65.3004 42.4698 64.77 42.4698V42.4098Z"
                fill="#61C1BE"
              />
              <path
                d="M64.77 19.7402H42.1C41.5695 19.7402 41.0608 19.5295 40.6858 19.1544C40.3107 18.7794 40.1 18.2707 40.1 17.7402C40.1 17.2098 40.3107 16.7011 40.6858 16.326C41.0608 15.9509 41.5695 15.7402 42.1 15.7402H64.77C65.3004 15.7402 65.8091 15.9509 66.1842 16.326C66.5592 16.7011 66.77 17.2098 66.77 17.7402C66.77 18.2707 66.5592 18.7794 66.1842 19.1544C65.8091 19.5295 65.3004 19.7402 64.77 19.7402Z"
                fill="#61C1BE"
              />
              <path
                d="M90.95 15.7402H74.13C73.5996 15.7402 73.0909 15.9509 72.7158 16.326C72.3407 16.7011 72.13 17.2098 72.13 17.7402V40.4102C72.13 40.9407 72.3407 41.4494 72.7158 41.8244C73.0909 42.1995 73.5996 42.4102 74.13 42.4102C74.6604 42.4102 75.1691 42.1995 75.5442 41.8244C75.9193 41.4494 76.13 40.9407 76.13 40.4102V19.7402H90.97C91.4941 19.7136 92.0181 19.7938 92.5103 19.976C93.0024 20.1582 93.4523 20.4385 93.8327 20.8001C94.2131 21.1616 94.516 21.5967 94.723 22.0789C94.9299 22.5612 95.0367 23.0805 95.0367 23.6052C95.0367 24.13 94.9299 24.6493 94.723 25.1315C94.516 25.6138 94.2131 26.0489 93.8327 26.4104C93.4523 26.7719 93.0024 27.0523 92.5103 27.2345C92.0181 27.4167 91.4941 27.4969 90.97 27.4702H82.57C82.0396 27.4702 81.5308 27.681 81.1558 28.056C80.7807 28.4311 80.57 28.9398 80.57 29.4702C80.57 30.0007 80.7807 30.5094 81.1558 30.8844C81.5308 31.2595 82.0396 31.4702 82.57 31.4702H90.97C92.0212 31.5078 93.069 31.3332 94.0512 30.9569C95.0334 30.5806 95.9297 30.0103 96.6866 29.2799C97.4435 28.5496 98.0456 27.6743 98.4567 26.7062C98.8679 25.7381 99.0798 24.697 99.0798 23.6452C99.0798 22.5934 98.8679 21.5524 98.4567 20.5843C98.0456 19.6162 97.4435 18.7409 96.6866 18.0105C95.9297 17.2802 95.0334 16.7099 94.0512 16.3335C93.069 15.9572 92.0212 15.7827 90.97 15.8202L90.95 15.7402Z"
                fill="#61C1BE"
              />
              <path
                d="M137.62 42.4093C137.311 42.409 137.007 42.3371 136.73 42.1993C136.264 41.9596 135.911 41.5466 135.746 41.0491C135.582 40.5517 135.619 40.0096 135.85 39.5393L147.18 16.8693C147.347 16.5428 147.6 16.2685 147.912 16.0763C148.225 15.884 148.584 15.7813 148.95 15.7793C149.317 15.7813 149.676 15.884 149.988 16.0763C150.3 16.2685 150.553 16.5428 150.72 16.8693L162.06 39.5393C162.219 39.9984 162.206 40.4997 162.022 40.9496C161.839 41.3995 161.498 41.7672 161.063 41.984C160.628 42.2008 160.129 42.2519 159.659 42.1277C159.19 42.0036 158.781 41.7126 158.51 41.3093L148.95 22.1893L139.38 41.3093C139.215 41.6361 138.964 41.9115 138.654 42.1055C138.344 42.2994 137.986 42.4045 137.62 42.4093Z"
                fill="#61C1BE"
              />
              <path
                d="M35.5201 15.9505C35.0395 15.7403 34.4955 15.7273 34.0054 15.9143C33.5153 16.1014 33.1184 16.4735 32.9 16.9505L24.66 35.1605L20.12 25.1605L23.0201 18.6105C23.1485 18.1477 23.1062 17.6542 22.9008 17.2201C22.6954 16.786 22.3407 16.4403 21.9015 16.2461C21.4622 16.052 20.9678 16.0224 20.5085 16.1627C20.0492 16.303 19.6557 16.604 19.4 17.0105L17.93 20.3205L16.43 16.9905C16.3474 16.7178 16.2075 16.4659 16.0197 16.2517C15.8318 16.0374 15.6004 15.8658 15.3408 15.7483C15.0812 15.6308 14.7995 15.5701 14.5146 15.5703C14.2297 15.5705 13.9481 15.6316 13.6887 15.7494C13.4293 15.8673 13.1981 16.0392 13.0105 16.2536C12.8229 16.4681 12.6833 16.7202 12.6011 16.993C12.5188 17.2657 12.4958 17.553 12.5336 17.8354C12.5713 18.1178 12.669 18.3889 12.82 18.6305L15.82 25.1705L12.38 32.7405C12.1729 33.2199 12.1616 33.7614 12.3485 34.2491C12.5353 34.7369 12.9056 35.1321 13.38 35.3505C13.6326 35.4603 13.9047 35.5181 14.18 35.5205C14.563 35.5177 14.9372 35.4051 15.2581 35.1959C15.579 34.9867 15.833 34.6898 15.99 34.3405L17.9201 29.9905L22.8601 40.7405C23.0227 41.0813 23.2785 41.3691 23.598 41.5706C23.9174 41.7722 24.2874 41.8791 24.665 41.8791C25.0427 41.8791 25.4127 41.7722 25.7321 41.5706C26.0515 41.3691 26.3074 41.0813 26.47 40.7405L36.47 18.5405C36.6745 18.0693 36.6899 17.5376 36.5131 17.0555C36.3362 16.5733 35.9807 16.1776 35.5201 15.9505Z"
                fill="#61C1BE"
              />
              <path
                d="M186.23 16.3608C185.856 15.9943 185.354 15.7891 184.83 15.7891C184.307 15.7891 183.804 15.9943 183.43 16.3608L173.49 26.2908L163.56 16.3608C163.175 16.0719 162.699 15.9317 162.218 15.9658C161.738 15.9999 161.286 16.2061 160.946 16.5466C160.605 16.887 160.399 17.3388 160.365 17.819C160.331 18.2992 160.471 18.7756 160.76 19.1608L171.51 29.9208V40.4308C171.51 40.9612 171.721 41.4699 172.096 41.845C172.471 42.2201 172.98 42.4308 173.51 42.4308C174.041 42.4308 174.549 42.2201 174.924 41.845C175.299 41.4699 175.51 40.9612 175.51 40.4308V29.9108L186.27 19.1608C186.631 18.7817 186.829 18.2761 186.822 17.7526C186.814 17.2291 186.602 16.7294 186.23 16.3608Z"
                fill="#61C1BE"
              />
              <path
                d="M17.92 12.05C19.1074 12.05 20.07 11.0874 20.07 9.9C20.07 8.71259 19.1074 7.75 17.92 7.75C16.7326 7.75 15.77 8.71259 15.77 9.9C15.77 11.0874 16.7326 12.05 17.92 12.05Z"
                fill="#008CD6"
              />
              <path
                d="M167.11 52.6092C167.108 53.034 166.98 53.4487 166.743 53.8009C166.505 54.1532 166.169 54.4272 165.776 54.5884C165.383 54.7496 164.951 54.7908 164.535 54.7067C164.118 54.6226 163.736 54.417 163.436 54.116C163.137 53.8149 162.933 53.4318 162.851 53.015C162.768 52.5982 162.812 52.1664 162.975 51.7742C163.138 51.3819 163.413 51.0467 163.767 50.8109C164.12 50.5751 164.535 50.4492 164.96 50.4492C165.243 50.4492 165.524 50.5051 165.785 50.6138C166.047 50.7225 166.284 50.8818 166.484 51.0825C166.684 51.2832 166.842 51.5214 166.949 51.7834C167.057 52.0454 167.111 52.326 167.11 52.6092Z"
                fill="#008CD6"
              />
              <path
                d="M94.3799 74.2698C69.9099 74.2698 46.7199 68.5198 29.0899 58.0898C11.2099 47.5098 0.879926 33.2298 -7.39247e-05 17.8698C-0.0583113 17.5882 -0.0551178 17.2972 0.00929497 17.0169C0.0737077 16.7366 0.197838 16.4735 0.373187 16.2455C0.548535 16.0175 0.770985 15.8301 1.02538 15.6959C1.27977 15.5617 1.56011 15.4839 1.84728 15.4679C2.13445 15.4519 2.42169 15.4981 2.68941 15.6032C2.95713 15.7083 3.19903 15.8699 3.39861 16.077C3.59819 16.2841 3.75076 16.5318 3.8459 16.8033C3.94105 17.0747 3.97654 17.3634 3.94994 17.6498C4.75994 31.6498 14.3999 44.7998 31.0999 54.6498C48.0999 64.7298 70.6099 70.2798 94.3799 70.2798C115.15 70.2798 135.45 65.8998 151.54 57.9598C151.776 57.7969 152.045 57.6869 152.328 57.6371C152.611 57.5874 152.901 57.5991 153.179 57.6714C153.456 57.7438 153.715 57.8751 153.938 58.0565C154.161 58.2379 154.341 58.465 154.468 58.7226C154.595 58.9801 154.665 59.2619 154.674 59.5489C154.682 59.8358 154.628 60.1213 154.517 60.3857C154.405 60.6501 154.237 60.8874 154.026 61.0814C153.814 61.2753 153.563 61.4215 153.29 61.5098C136.38 69.8698 116.05 74.2698 94.3799 74.2698Z"
                fill="url(#paint0_linear_172_3655)"
              />
            </g>
            <defs>
              <linearGradient
                id="paint0_linear_172_3655"
                x1="156.69"
                y1="65.0598"
                x2="21.6199"
                y2="41.5298"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#008CD6" />
                <stop offset="1" stop-color="#61C1BE" />
              </linearGradient>
              <clipPath id="clip0_172_3655">
                <rect width="186.81" height="74.27" fill="white" />
              </clipPath>
            </defs>
          </svg>
        </div>
        <!--로그인 카드 인풋 영역-->
        <div class="login-inputBox">
          <div>
            <v-text-field
              class="login-input login-input-id"
              style="margin-bottom: 8px !important;"
              v-model="data.username"
              hide-details="auto"
              placeholder="아이디를 입력해주세요"
              @keyup.enter="login()"
            ></v-text-field>
            <v-text-field
              class="login-input login-input-pw"
              v-model="data.password"
              hide-details="auto"
              type="password"
              placeholder="패스워드를 입력해주세요"
              @keyup.enter="login()"
            ></v-text-field>
          </div>

          <!-- 아이디 / 비밀번호 찾기-->
          <div class="login-findBox">
            <!-- <v-btn text @click="moveToFindID()">아이디 찾기</v-btn>
            <span class="login-bar"></span>
            <v-btn text @click="moveToFindPW()">비밀번호 찾기</v-btn> -->
          </div>
          <!-- 로그인 버튼 col 영역 비율 4 차지-->
          <button class="loginButton" type="button" @click="login()">
            로그인
          </button>
        </div>
        <div class="signupButton">
          <!-- <v-btn text @click="moveToSignup()">아직 회원이 아니신가요?</v-btn> -->
        </div>
      </v-card>
    </v-col>
  </v-row>
</template>

<script>
export default {
  data: () => {
    return {
      data: {
        username: "",
        password: "",
      },
    };
  },
  created() {
    this.$axios({
      method: "GET",
      url: "https://api.ip.pe.kr/",
    })
      .then((res) => {
        console.log(res);
      })
      .catch((err) => {
        console.log(err);
      });
  },
  // created() {
  //   this.$axios.get("users/getIP/")
  //   .then((res) => {
  //     console.log(res)
  //   })
  //   .catch((err) => {
  //     console.log(err)
  //   })
  // },
  methods: {
    // router 이용하여 이동할 페이지 선언
    moveToSignup: function() {
      var router = this.$router;

      return router.push({ name: "Signup" });
    },
    moveToFindID: function() {
      var router = this.$router;

      return router.push({ name: "FindIDType" });
    },
    moveToFindPW: function() {
      var router = this.$router;

      return router.push({ name: "FindPW" });
    },
    moveToHome: function() {
      var router = this.$router;
      return router.push({ name: "Home" });
    },
    // 폼에 있는 데이터 삭제하는 함수
    clearPW: function() {
      this.data.password = "";
    },
    // 로그인 함수 정의
    login() {
      this.$axios({
        method: "POST",
        url: "users/login/",
        data: this.data,
      })
        .then((res) => {
          // 요청 성공시 실행
          // console.log(res);
          this.$store.commit("setToken", res.data.tokens);
          this.$store.commit("setId", res.data.user_id);
          this.moveToHome();
        })
        .catch((err) => {
          // 요청 실패시 실행
          console.log(err.response);
          alert(err.response.data.msg);
          this.clearPW(); // 기존에 입력되어 있던 데이터 삭제
        });
    },
    getIP() {
      this.$axios({
        method: "GET",
        url: "https://api.ip.pe.kr/",
      })
        .then((res) => {
          console.log(res);
        })
        .catch((err) => {
          console.log(err);
        });
    },
  },
};
</script>

<style>
.login-wrap {
  width: 870px;
  height: 551px;
  margin: 0 auto;
  background: #fff;
  border-radius: 20px !important;
  box-shadow: 0px 2px 30px rgba(0, 0, 0, 0.06) !important;
}
.login-wrap-header {
  widows: 100%;
  height: 72px;
  display: flex;
  align-items: center;
  border-bottom: 0.5px solid #b4b4b4;
}
.login-wrap-header p {
  font-size: 20px;
  line-height: 24px;
  margin: 0 !important;
  margin-left: 24px !important;
}
.login-wrap-logoBox {
  widows: 100%;
  display: flex;
  justify-content: center;
  margin: 34px 0 60px;
}
.login-inputBox {
  width: 370px !important;
  margin: 0 auto;
}
.login-input {
  margin: 0 !important;
  padding: 0 !important;
  font-family: "Pretendard-Regular";
}
.login-input-id {
  margin-bottom: 8px !important;
}
.login-input-pw {
  margin-bottom: 13px !important;
}
.login-input input {
  height: 39px !important;
  max-height: none !important;
  border: 1px solid #e1e1e1;
  border-radius: 3px;
  font-size: 16px !important;
  padding: 10px 12px !important;
}
.theme--light.v-text-field > .v-input__control > .v-input__slot:before {
  display: none;
}
.login-findBox {
  display: flex;
  align-items: center;
  margin-bottom: 20px;
}
.login-findBox button {
  padding: 0 !important;
  font-size: 13px;
  font-family: "Pretendard-Regular";
  color: #646464 !important;
}
.login-bar {
  background: #989898;
  display: block;
  width: 1px;
  height: 19px;
  margin: 0 6px;
}
.loginButton {
  width: 370px;
  height: 48px;
  margin: 0 auto;
  background: #61c0bd;
  border-radius: 10px;
  font-size: 18px;
  color: #fff !important;
  font-family: "Pretendard-Regular";
  transition: all 0.3s;
}
.loginButton:hover {
  background: #77ddda;
}
.signupButton {
  display: flex;
  justify-content: center;
}
.signupButton button {
  font-size: 13px !important;
  font-family: "Pretendard-Regular";
  color: #49ada9 !important;
  margin-top: 25px;
}
</style>
